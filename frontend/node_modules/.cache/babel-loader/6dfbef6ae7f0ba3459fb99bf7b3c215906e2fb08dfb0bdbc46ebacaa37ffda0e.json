{"ast":null,"code":"var _jsxFileName = \"D:\\\\full stack mini project\\\\infoposter\\\\frontend\\\\src\\\\components\\\\NewsCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { API, deletePost } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NewsCard({\n  post,\n  onClick,\n  onDelete,\n  initialIsSaved\n}) {\n  _s();\n  const [isSaved, setIsSaved] = useState(initialIsSaved);\n  useEffect(() => {\n    setIsSaved(initialIsSaved);\n  }, [initialIsSaved, post._id]);\n  const handleSave = async e => {\n    e.stopPropagation(); // Prevent card click event\n    const token = localStorage.getItem('token');\n    if (!token) {\n      // Handle not logged in case\n      alert('Please log in to save posts.');\n      return;\n    }\n    try {\n      if (isSaved) {\n        await API.delete(`/posts/${post._id}/save`, {\n          headers: {\n            'x-auth-token': token\n          }\n        });\n        setIsSaved(false);\n      } else {\n        await API.put(`/posts/${post._id}/save`, {}, {\n          headers: {\n            'x-auth-token': token\n          }\n        });\n        setIsSaved(true);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const cardStyle = {\n    background: 'white',\n    borderRadius: '12px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n    width: '400px',\n    cursor: 'pointer',\n    transition: 'transform 0.2s ease-in-out',\n    overflow: 'hidden',\n    border: '1px solid #e0e0e0'\n  };\n  const imageStyle = {\n    width: '100%',\n    height: '220px',\n    objectFit: 'cover'\n  };\n  const contentStyle = {\n    padding: '1rem'\n  };\n  const titleStyle = {\n    fontSize: '1.2rem',\n    marginTop: '0.5rem',\n    marginBottom: '0.5rem',\n    color: '#333'\n  };\n  const summaryStyle = {\n    fontSize: '0.9rem',\n    color: '#666',\n    lineHeight: '1.4'\n  };\n  const actionsStyle = {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    gap: '15px',\n    marginTop: '1rem'\n  };\n  const iconStyle = {\n    fontSize: '1.2rem',\n    color: '#8B0000',\n    cursor: 'pointer'\n  };\n  const imageUrl = post.imageUrl ? `http://localhost:5000${post.imageUrl}` : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: cardStyle,\n    onClick: onClick,\n    children: [imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: post.title,\n      style: imageStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: contentStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: titleStyle,\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: summaryStyle,\n        children: post.summary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: actionsStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: iconStyle,\n          onClick: handleSave,\n          children: isSaved ? '‚ù§Ô∏è' : 'üîñ'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), onDelete && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: iconStyle,\n          onClick: async e => {\n            e.stopPropagation();\n            try {\n              await deletePost(post._id);\n              onDelete(); // Call the onDelete prop to refresh the list\n            } catch (error) {\n              console.error(\"Failed to delete post:\", error);\n              alert(\"Failed to delete post. Please try again.\");\n            }\n          },\n          children: \"\\uD83D\\uDDD1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(NewsCard, \"esqpQGy5yBhofVbMbbCA3Pr9mq4=\");\n_c = NewsCard;\nvar _c;\n$RefreshReg$(_c, \"NewsCard\");","map":{"version":3,"names":["React","useState","useEffect","API","deletePost","jsxDEV","_jsxDEV","NewsCard","post","onClick","onDelete","initialIsSaved","_s","isSaved","setIsSaved","_id","handleSave","e","stopPropagation","token","localStorage","getItem","alert","delete","headers","put","err","console","error","cardStyle","background","borderRadius","boxShadow","width","cursor","transition","overflow","border","imageStyle","height","objectFit","contentStyle","padding","titleStyle","fontSize","marginTop","marginBottom","color","summaryStyle","lineHeight","actionsStyle","display","justifyContent","gap","iconStyle","imageUrl","style","children","src","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","summary","_c","$RefreshReg$"],"sources":["D:/full stack mini project/infoposter/frontend/src/components/NewsCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { API, deletePost } from '../services/api';\r\n\r\nexport default function NewsCard({ post, onClick, onDelete, initialIsSaved }) {\r\n  const [isSaved, setIsSaved] = useState(initialIsSaved);\r\n\r\n  useEffect(() => {\r\n    setIsSaved(initialIsSaved);\r\n  }, [initialIsSaved, post._id]);\r\n\r\n  const handleSave = async (e) => {\r\n    e.stopPropagation(); // Prevent card click event\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      // Handle not logged in case\r\n      alert('Please log in to save posts.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (isSaved) {\r\n        await API.delete(`/posts/${post._id}/save`, {\r\n          headers: { 'x-auth-token': token },\r\n        });\r\n        setIsSaved(false);\r\n      } else {\r\n        await API.put(`/posts/${post._id}/save`, {}, {\r\n          headers: { 'x-auth-token': token },\r\n        });\r\n        setIsSaved(true);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const cardStyle = {\r\n    background: 'white',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n    width: '400px',\r\n    cursor: 'pointer',\r\n    transition: 'transform 0.2s ease-in-out',\r\n    overflow: 'hidden',\r\n    border: '1px solid #e0e0e0',\r\n  };\r\n\r\n  const imageStyle = {\r\n    width: '100%',\r\n    height: '220px',\r\n    objectFit: 'cover',\r\n  };\r\n\r\n  const contentStyle = {\r\n    padding: '1rem',\r\n  };\r\n\r\n  const titleStyle = {\r\n    fontSize: '1.2rem',\r\n    marginTop: '0.5rem',\r\n    marginBottom: '0.5rem',\r\n    color: '#333',\r\n  };\r\n\r\n  const summaryStyle = {\r\n    fontSize: '0.9rem',\r\n    color: '#666',\r\n    lineHeight: '1.4',\r\n  };\r\n\r\n  const actionsStyle = {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    gap: '15px',\r\n    marginTop: '1rem',\r\n  };\r\n\r\n  const iconStyle = {\r\n    fontSize: '1.2rem',\r\n    color: '#8B0000',\r\n    cursor: 'pointer',\r\n  };\r\n\r\n  const imageUrl = post.imageUrl ? `http://localhost:5000${post.imageUrl}` : null;\r\n\r\n  return (\r\n    <div style={cardStyle} onClick={onClick}>\r\n      {imageUrl && <img src={imageUrl} alt={post.title} style={imageStyle} />}\r\n      <div style={contentStyle}>\r\n        <h2 style={titleStyle}>{post.title}</h2>\r\n        <p style={summaryStyle}>{post.summary}</p>\r\n        <div style={actionsStyle}>\r\n          <span style={iconStyle} onClick={handleSave}>{isSaved ? '‚ù§Ô∏è' : 'üîñ'}</span>\r\n          {onDelete && (\r\n            <span style={iconStyle} onClick={async (e) => {\r\n              e.stopPropagation();\r\n              try {\r\n                await deletePost(post._id);\r\n                onDelete(); // Call the onDelete prop to refresh the list\r\n              } catch (error) {\r\n                console.error(\"Failed to delete post:\", error);\r\n                alert(\"Failed to delete post. Please try again.\");\r\n              }\r\n            }}>üóëÔ∏è</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}